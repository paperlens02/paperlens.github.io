---
title: 基于回合战棋的大地图探索和解谜机制设计
date: 2022-07-07 11:00:51
tags:
- paperRPG
categories: 
- paperRPG
- 文档
- 撰写中
---

# 一、设计思路
世界地图设计承载了剧情表现力和主要玩法，是游戏各个细分玩法的入口。本游戏世界地图需遵循小而精的设计原则，在尽可能小的线性地图中做足量交互填充和玩法设计。为进一步加强设计感、提升地图交互的可玩性，本作参考回合制战棋玩法的思路，在不降低自由探索感的前提下进行大地图交互和解谜设计。

# 二、设计目标
1. 在世界地图中，基于交互物和事件的填充，设计与剧情、养成等系统紧密关联的解谜内容。
2. 在世界地图中填充自主巡逻的怪物，接入战斗系统，提升策略性。
3. 设计弱回合制的概念。回合与移动步数相关联，通过回合的进展触发世界地图中各项事件（包括怪物巡逻、属性变化、表现变化）。
4. 

# 三、详细设计_机制篇

## 3.1 地图基本构成
- 地图是由多个格子构成的。
	+ 格子是构成地图的最小单位；格子是构成地图的唯一元素。
	+ 每个格子上可以放置多个事件、交互物等。
	+ 所有单位必须停留在某个格子上；单位移动必然跨过整个格子；存在同时占有多个整数格子的单位。
	+ 从表现上来讲，在整个游戏中所有的地图的格子，其客观大小和意义是一致的。

- 地图表现与格子无关。
	+ 为提升表现力，地图表现为一个完整的场景，先出场景后设计格子。

### 3.1.1 格子
- 格子拥有属性：
	+ 可否移动

## 3.2 地图填充

### 3.2.1 交互物
- 交互物的交互位置被安置在一个或多个地图格子上。
- 交互物的表现可以是动态加载的单个模型，也可以是绑定在地图场景上的某个物体。

### 3.2.2 地图事件
- 地图事件与格子绑定，在满足触发条件时触发。详见[事件机制设计]。

### 3.2.3 怪物
- 怪物是依据配置或程序逻辑被动态生成在地图上的。
- 怪物拥有自身的AI，例如自主巡逻AI。详见[怪物AI设计_大地图篇]。
- 怪物拥有自身的事件触发器，例如接战事件。详见[怪物事件设计_大地图篇]。

## 3.3 地图中的玩家
- 暂时不考虑组队系统。玩家仅主角一人。

### 3.3.1 出生点
- 各个地图需要配置多个出生点，对应各个进入地图来源。地图初始化完毕后，玩家被生成在出生点上。

### 3.3.2 玩家的移动
- 玩家的移动是以格子为单位的。
- 在自由活动时间，玩家可以任意操作移动

## 3.4 回合
- 回合数会随着玩家的移动自增。
- 基本设计是玩家每移动n步，回合数+1。这个n的值在游戏大部分时候是固定的某个值，它不受玩家属性影响，但可能受地图效果影响。

### 3.4.1 回合与地图表现
- 地图表现会随着回合推进而改变。（细节待设计）

### 3.4.2 回合与地图填充物
- 交互物、事件均有可能随着回合推进而改变。（细节待设计）
- 怪物会依据回合推进执行AI。

### 3.4.3 回合与玩家属性
- （细节待设计）

# 四、详细设计_设计篇

## 4.1 一些基础原则和设计目标
- 所有战斗均可以规避。
- 减少flag强依赖。交互物可调查，但无需完全调查，允许通过直觉或猜测(枚举)解谜。

## 4.2 交互物的设计
- 所有交互物均有其交互意义。即：不设计类似*调查椅子->"这是椅子，坐起来很舒服"*这种调查物件。
	+ 交互意义：即必须与某游戏系统有关。包括但不限于：
		* 提供事件flag或解谜线索（与探索解谜系统相关）
		* 提供剧情内容（与剧情系统相关）
		* 提供属性、buff等等（与战斗/养成系统相关）
		* .....
- 在每个场景中的交互物数量、比例、效果程度应有一定规律
	+ 不应存在很空/很挤的场景；不应存在不同场景中某种交互物效果差异过大。
		* 如：在A场景中的所有交互物共可提供属性值x点，在紧接着的B场景中总属性值也应接近x点。
		* 从游戏前期到后期，交互物整体密度会逐步提升，但不可时多时少。
		* 在各个场景中，与每个系统相关的交互物所占的比例应尽可能稳定。
- 预计会设计隐藏交互物。按一定密度(隐藏交互物/场景)配置。

## 4.3 怪物的设计

## 4.4 解谜的设计
- 解谜需服务于某其他系统。即：谜题的谜底指向某剧情细节/解谜的奖励带来某养成系统数值
- 解谜完成后有某种形式的奖励。这种奖励需要是长久的，不能是临时的。不一定是显式的。
- 解谜可以设置分支答案。但依旧不依赖flag。