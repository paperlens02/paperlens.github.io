---
title: 业务功能框架设计：MRCV
date: 2024-01-17 12:30:00
tags:
- 设计
- UI框架
- MRCV
categories: 
- 技术
---

# 一、概述
<!--more-->
- MRCV框架是针对游戏客户端业务功能开发，对显示层和数据层设计中的具体问题提出解决方案，并以简化外层工作、提升迭代速度为主目标的设计模式框架。
- MRCV框架作用于代码、资源、设计和所有相关工作流。
- MRCV依赖于设计的合理抽象。MRCV适用于任意复杂度的项目和功能。

>明确MRCV框架的目标和定义、作用域、作用条件。
>
>只有对《游戏客户端》的《业务功能》，MRCV才发挥最大的价值。业务功能包括核心玩法等深度内容。
> 《设计模式框架》：并非以底层实现和问题解决为主的Framework，而是指导开发中具体问题的解决方案的Design Method。
>MRCV主要对显示层和数据层的设计提出指导性的解决方案。它不代理业务逻辑。
>MRCV的唯一目标是提升迭代速度。*简化外层工作并非降低外层工作含金量，反而是对每个人提出了更高要求，要求大家共同完善框架。
>
> MRCV绝不只是代码框架，它的作用域覆盖整个游戏开发流程，它倡导职能间互相关心、紧密合作。
> 
>MRCV必须依赖《设计》的合理抽象。这包括策划设计开始，到美术效果、资源落地、代码设计的全部内容。
>MRCV并非Framework类框架，它是一个提供设计指导的轻度框架，并随项目需求逐渐成长。因此它适用于任意复杂度的项目。

# 二、简单理解
- 借鉴ECS的显示层设计
- 借鉴MVC的业务逻辑分层
- 借鉴MVVM的视图刷新方法
![简洁框架图](2024/01/17/业务功能框架设计MRCV/basic.png)

# 三、具体设计

## ViewEntity(UI)层
- 轻量级，代码量应当极低。
- 模式化，代码框架可自动生成，仅需填充必要逻辑内容。
- 不直接存储数据。
- 不直接执行业务逻辑。

## ViewProxy层
- 代理显示层的特定功能需求，抽象和封装显示层的业务逻辑。
- 为实现功能需求，存储相关的必要数据和状态。
- 支撑资源工具链、管理资源数据，负责跨平台兼容。
- 与UnityDOTS天生相合的性质。

## ViewSystem层
- 统管所有(或关心的)ViewProxy。
- 桥接数据层与显示层，实现数据响应式组件。
- 统管视窗生命周期，负责更全局的逻辑处理。
- 可以与框架外做统一沟通。
